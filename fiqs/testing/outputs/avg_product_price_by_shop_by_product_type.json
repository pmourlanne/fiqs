{
    "_shards": {
        "failed": 0, 
        "successful": 5, 
        "total": 5
    }, 
    "aggregations": {
        "shop_id": {
            "buckets": [
                {
                    "doc_count": 59, 
                    "key": 7, 
                    "products": {
                        "doc_count": 190, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 148.47058823529412
                                    }, 
                                    "doc_count": 68, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 142.04761904761904
                                    }, 
                                    "doc_count": 42, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 147.275
                                    }, 
                                    "doc_count": 40, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 179.55555555555554
                                    }, 
                                    "doc_count": 27, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 107.15384615384616
                                    }, 
                                    "doc_count": 13, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }, 
                {
                    "doc_count": 59, 
                    "key": 8, 
                    "products": {
                        "doc_count": 180, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 196.10344827586206
                                    }, 
                                    "doc_count": 58, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 148.1951219512195
                                    }, 
                                    "doc_count": 41, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 251.05882352941177
                                    }, 
                                    "doc_count": 34, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 174.33333333333334
                                    }, 
                                    "doc_count": 27, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 147.85
                                    }, 
                                    "doc_count": 20, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }, 
                {
                    "doc_count": 57, 
                    "key": 5, 
                    "products": {
                        "doc_count": 167, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 182.26666666666668
                                    }, 
                                    "doc_count": 45, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 142.609756097561
                                    }, 
                                    "doc_count": 41, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 150.03571428571428
                                    }, 
                                    "doc_count": 28, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 114.85185185185185
                                    }, 
                                    "doc_count": 27, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 165.8846153846154
                                    }, 
                                    "doc_count": 26, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }, 
                {
                    "doc_count": 52, 
                    "key": 3, 
                    "products": {
                        "doc_count": 166, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 184.75
                                    }, 
                                    "doc_count": 52, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 172.53846153846155
                                    }, 
                                    "doc_count": 39, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 134.52941176470588
                                    }, 
                                    "doc_count": 34, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 171.0909090909091
                                    }, 
                                    "doc_count": 22, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 129.73684210526315
                                    }, 
                                    "doc_count": 19, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }, 
                {
                    "doc_count": 52, 
                    "key": 10, 
                    "products": {
                        "doc_count": 150, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 211.28813559322035
                                    }, 
                                    "doc_count": 59, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 127.15151515151516
                                    }, 
                                    "doc_count": 33, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 178.28
                                    }, 
                                    "doc_count": 25, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 157.1
                                    }, 
                                    "doc_count": 20, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 84.61538461538461
                                    }, 
                                    "doc_count": 13, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }, 
                {
                    "doc_count": 51, 
                    "key": 9, 
                    "products": {
                        "doc_count": 152, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 216.5079365079365
                                    }, 
                                    "doc_count": 63, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 187.06060606060606
                                    }, 
                                    "doc_count": 33, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 112.875
                                    }, 
                                    "doc_count": 24, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 135.36363636363637
                                    }, 
                                    "doc_count": 22, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 125.4
                                    }, 
                                    "doc_count": 10, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }, 
                {
                    "doc_count": 46, 
                    "key": 2, 
                    "products": {
                        "doc_count": 154, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 159.1090909090909
                                    }, 
                                    "doc_count": 55, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 106.15625
                                    }, 
                                    "doc_count": 32, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 98.14285714285714
                                    }, 
                                    "doc_count": 28, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 119.25925925925925
                                    }, 
                                    "doc_count": 27, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 137.66666666666666
                                    }, 
                                    "doc_count": 12, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }, 
                {
                    "doc_count": 45, 
                    "key": 1, 
                    "products": {
                        "doc_count": 149, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 170.26190476190476
                                    }, 
                                    "doc_count": 42, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 196.97222222222223
                                    }, 
                                    "doc_count": 36, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 140.86666666666667
                                    }, 
                                    "doc_count": 30, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 131.17241379310346
                                    }, 
                                    "doc_count": 29, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 205.25
                                    }, 
                                    "doc_count": 12, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }, 
                {
                    "doc_count": 41, 
                    "key": 6, 
                    "products": {
                        "doc_count": 131, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 141.9814814814815
                                    }, 
                                    "doc_count": 54, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 133.95652173913044
                                    }, 
                                    "doc_count": 23, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 209.61904761904762
                                    }, 
                                    "doc_count": 21, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 215.1904761904762
                                    }, 
                                    "doc_count": 21, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 76.5
                                    }, 
                                    "doc_count": 12, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }, 
                {
                    "doc_count": 38, 
                    "key": 4, 
                    "products": {
                        "doc_count": 101, 
                        "product_type": {
                            "buckets": [
                                {
                                    "avg_product_price": {
                                        "value": 182.67741935483872
                                    }, 
                                    "doc_count": 31, 
                                    "key": "product_type_3"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 209.95454545454547
                                    }, 
                                    "doc_count": 22, 
                                    "key": "product_type_4"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 207.55555555555554
                                    }, 
                                    "doc_count": 18, 
                                    "key": "product_type_1"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 208.05555555555554
                                    }, 
                                    "doc_count": 18, 
                                    "key": "product_type_2"
                                }, 
                                {
                                    "avg_product_price": {
                                        "value": 79.66666666666667
                                    }, 
                                    "doc_count": 12, 
                                    "key": "product_type_0"
                                }
                            ], 
                            "doc_count_error_upper_bound": 0, 
                            "sum_other_doc_count": 0
                        }
                    }
                }
            ], 
            "doc_count_error_upper_bound": 0, 
            "sum_other_doc_count": 0
        }
    }, 
    "hits": {
        "hits": [
            {
                "_id": "14", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_G2KQSJMAL2", 
                    "id": 14, 
                    "payment_type": "wire_transfer", 
                    "price": 525, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_4", 
                                    "part_price": 11, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 11, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 11, 
                                    "warehouse_id": "warehouse_5"
                                }
                            ], 
                            "product_id": "product_GLVXXAUKYE", 
                            "product_price": 52, 
                            "product_type": "product_type_1"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_9", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_2"
                                }, 
                                {
                                    "part_id": "part_5", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_5", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_9"
                                }
                            ], 
                            "product_id": "product_PSW YMWYNT", 
                            "product_price": 52, 
                            "product_type": "product_type_4"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_10", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 28, 
                                    "warehouse_id": "warehouse_3"
                                }
                            ], 
                            "product_id": "product_RE7WX1BHL6", 
                            "product_price": 421, 
                            "product_type": "product_type_2"
                        }
                    ], 
                    "shop_id": 6, 
                    "timestamp": 1452314017000
                }, 
                "_type": "sale"
            }, 
            {
                "_id": "19", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_SDIG3YXC11", 
                    "id": 19, 
                    "payment_type": "cash", 
                    "price": 11, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_7", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_2"
                                }
                            ], 
                            "product_id": "product_8Y4N80PJ7V", 
                            "product_price": 1, 
                            "product_type": "product_type_1"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_9", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_8"
                                }
                            ], 
                            "product_id": "product_U7IR9P3T Y", 
                            "product_price": 1, 
                            "product_type": "product_type_2"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_7", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_6"
                                }
                            ], 
                            "product_id": "product_ WMDQUD90O", 
                            "product_price": 1, 
                            "product_type": "product_type_3"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_4", 
                                    "part_price": 1, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 1, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 1, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 1, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 1, 
                                    "warehouse_id": "warehouse_5"
                                }
                            ], 
                            "product_id": "product_8BLKSFU4YC", 
                            "product_price": 8, 
                            "product_type": "product_type_3"
                        }
                    ], 
                    "shop_id": 8, 
                    "timestamp": 1452109924000
                }, 
                "_type": "sale"
            }, 
            {
                "_id": "22", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_9Y23QVR106", 
                    "id": 22, 
                    "payment_type": "store_credit", 
                    "price": 596, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_8", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_6"
                                }
                            ], 
                            "product_id": "product_U7IR9P3T Y", 
                            "product_price": 59, 
                            "product_type": "product_type_2"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_7", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_8"
                                }
                            ], 
                            "product_id": "product_7945J5QXDP", 
                            "product_price": 59, 
                            "product_type": "product_type_3"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_4", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_5", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_2"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_2"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 4, 
                                    "warehouse_id": "warehouse_8"
                                }
                            ], 
                            "product_id": "product_8BLKSFU4YC", 
                            "product_price": 59, 
                            "product_type": "product_type_3"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_8", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_4"
                                }
                            ], 
                            "product_id": "product_94M7YPRMEM", 
                            "product_price": 59, 
                            "product_type": "product_type_1"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_2", 
                                    "part_price": 48, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 48, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 48, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 48, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 48, 
                                    "warehouse_id": "warehouse_3"
                                }
                            ], 
                            "product_id": "product_W6G9H0W2MH", 
                            "product_price": 360, 
                            "product_type": "product_type_2"
                        }
                    ], 
                    "shop_id": 1, 
                    "timestamp": 1453045589000
                }, 
                "_type": "sale"
            }, 
            {
                "_id": "24", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_IQR86GZXAF", 
                    "id": 24, 
                    "payment_type": "store_credit", 
                    "price": 48, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_3", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_7"
                                }
                            ], 
                            "product_id": "product_X68S5JGOBU", 
                            "product_price": 4, 
                            "product_type": "product_type_2"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_4", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_2"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_3"
                                }
                            ], 
                            "product_id": "product_TF995FXEGM", 
                            "product_price": 4, 
                            "product_type": "product_type_3"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_2", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_5"
                                }
                            ], 
                            "product_id": "product_C2VSKFVRML", 
                            "product_price": 4, 
                            "product_type": "product_type_3"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_1", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_5", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_5", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 0, 
                                    "warehouse_id": "warehouse_7"
                                }
                            ], 
                            "product_id": "product_G9VL DYZKT", 
                            "product_price": 4, 
                            "product_type": "product_type_2"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_10", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_2"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_2"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 3, 
                                    "warehouse_id": "warehouse_5"
                                }
                            ], 
                            "product_id": "product_G9VL DYZKT", 
                            "product_price": 32, 
                            "product_type": "product_type_2"
                        }
                    ], 
                    "shop_id": 4, 
                    "timestamp": 1453586252000
                }, 
                "_type": "sale"
            }, 
            {
                "_id": "25", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_FYJU8E5UT1", 
                    "id": 25, 
                    "payment_type": "store_credit", 
                    "price": 844, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_10", 
                                    "part_price": 70, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 70, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 70, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 70, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 70, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 70, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 70, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 70, 
                                    "warehouse_id": "warehouse_5"
                                }
                            ], 
                            "product_id": "product_X68S5JGOBU", 
                            "product_price": 844, 
                            "product_type": "product_type_2"
                        }
                    ], 
                    "shop_id": 1, 
                    "timestamp": 1454036708000
                }, 
                "_type": "sale"
            }, 
            {
                "_id": "26", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_T36UYZSO6W", 
                    "id": 26, 
                    "payment_type": "store_credit", 
                    "price": 1000, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_3", 
                                    "part_price": 333, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 333, 
                                    "warehouse_id": "warehouse_10"
                                }
                            ], 
                            "product_id": "product_CEAPW0ZD Z", 
                            "product_price": 1000, 
                            "product_type": "product_type_3"
                        }
                    ], 
                    "shop_id": 10, 
                    "timestamp": 1452022609000
                }, 
                "_type": "sale"
            }, 
            {
                "_id": "29", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_3N6LX3KRAI", 
                    "id": 29, 
                    "payment_type": "cash", 
                    "price": 821, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_5", 
                                    "part_price": 27, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_5", 
                                    "part_price": 27, 
                                    "warehouse_id": "warehouse_3"
                                }
                            ], 
                            "product_id": "product_G9VL DYZKT", 
                            "product_price": 82, 
                            "product_type": "product_type_2"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_10", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_3"
                                }
                            ], 
                            "product_id": "product_I8ZKUFOYON", 
                            "product_price": 82, 
                            "product_type": "product_type_1"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_4", 
                                    "part_price": 54, 
                                    "warehouse_id": "warehouse_2"
                                }
                            ], 
                            "product_id": "product_2P6A21H1K7", 
                            "product_price": 82, 
                            "product_type": "product_type_3"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_6", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_2"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_5", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_2"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 6, 
                                    "warehouse_id": "warehouse_7"
                                }
                            ], 
                            "product_id": "product_6VI5E5WXHP", 
                            "product_price": 82, 
                            "product_type": "product_type_3"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_8", 
                                    "part_price": 36, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 36, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 36, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 36, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 36, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 36, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 36, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 36, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 36, 
                                    "warehouse_id": "warehouse_9"
                                }
                            ], 
                            "product_id": "product_NQJZPQPGVW", 
                            "product_price": 493, 
                            "product_type": "product_type_4"
                        }
                    ], 
                    "shop_id": 6, 
                    "timestamp": 1453980140000
                }, 
                "_type": "sale"
            }, 
            {
                "_id": "40", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_NGMOYMBQXA", 
                    "id": 40, 
                    "payment_type": "store_credit", 
                    "price": 792, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_4", 
                                    "part_price": 26, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 26, 
                                    "warehouse_id": "warehouse_8"
                                }
                            ], 
                            "product_id": "product_W6G9H0W2MH", 
                            "product_price": 79, 
                            "product_type": "product_type_2"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_3", 
                                    "part_price": 10, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 10, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 10, 
                                    "warehouse_id": "warehouse_1"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 10, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 10, 
                                    "warehouse_id": "warehouse_2"
                                }
                            ], 
                            "product_id": "product_AM7JA8F9MZ", 
                            "product_price": 79, 
                            "product_type": "product_type_4"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_6", 
                                    "part_price": 140, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 140, 
                                    "warehouse_id": "warehouse_2"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 140, 
                                    "warehouse_id": "warehouse_6"
                                }
                            ], 
                            "product_id": "product_JQ0JVW20PV", 
                            "product_price": 634, 
                            "product_type": "product_type_4"
                        }
                    ], 
                    "shop_id": 8, 
                    "timestamp": 1453896601000
                }, 
                "_type": "sale"
            }, 
            {
                "_id": "41", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_ND1Y 1UK80", 
                    "id": 41, 
                    "payment_type": "wire_transfer", 
                    "price": 921, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_8", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_3"
                                }, 
                                {
                                    "part_id": "part_7", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_4"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_1", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_5"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_2", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_5"
                                }
                            ], 
                            "product_id": "product_BV5G46V4DK", 
                            "product_price": 92, 
                            "product_type": "product_type_0"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_3", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_8"
                                }, 
                                {
                                    "part_id": "part_10", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_8", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_6"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_4", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_9"
                                }, 
                                {
                                    "part_id": "part_6", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_7"
                                }, 
                                {
                                    "part_id": "part_9", 
                                    "part_price": 7, 
                                    "warehouse_id": "warehouse_10"
                                }
                            ], 
                            "product_id": "product_G9VL DYZKT", 
                            "product_price": 92, 
                            "product_type": "product_type_2"
                        }, 
                        {
                            "parts": [
                                {
                                    "part_id": "part_6", 
                                    "part_price": 491, 
                                    "warehouse_id": "warehouse_8"
                                }
                            ], 
                            "product_id": "product_PSW YMWYNT", 
                            "product_price": 737, 
                            "product_type": "product_type_4"
                        }
                    ], 
                    "shop_id": 8, 
                    "timestamp": 1452535651000
                }, 
                "_type": "sale"
            }, 
            {
                "_id": "44", 
                "_index": "test_shop", 
                "_score": 1.0, 
                "_source": {
                    "client_id": "client_7Q7X4EM8S5", 
                    "id": 44, 
                    "payment_type": "cash", 
                    "price": 241, 
                    "products": [
                        {
                            "parts": [
                                {
                                    "part_id": "part_2", 
                                    "part_price": 80, 
                                    "warehouse_id": "warehouse_10"
                                }, 
                                {
                                    "part_id": "part_3", 
                                    "part_price": 80, 
                                    "warehouse_id": "warehouse_4"
                                }
                            ], 
                            "product_id": "product_MECO0MY 8I", 
                            "product_price": 241, 
                            "product_type": "product_type_4"
                        }
                    ], 
                    "shop_id": 10, 
                    "timestamp": 1453793820000
                }, 
                "_type": "sale"
            }
        ], 
        "max_score": 1.0, 
        "total": 500
    }, 
    "timed_out": false
}